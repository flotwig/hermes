<div class="modal-header">
  <h4 class="modal-title pull-left">Account Setup</h4>
  <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body row">
  <div class="col-md-3">
    <div class="list-group">
      <a *ngFor="let step of steps" 
          [class]="'list-group-item d-flex justify-content-between align-items-center list-group-item-action' + ((steps[stepI].name == step.name) ? ' active' : '')"
          href="#"
          (click)="tryChangeStep(step)">
            {{ step.name }}
          <span class="badge badge-danger badge-pill" *ngIf="step.valid === false">!</span>
          <span class="badge badge-success badge-pill" *ngIf="step.valid === true">&#x2718;</span>
      </a>
    </div>
  </div>
  <div class="col-md-9">
    <div *ngFor="let field of steps[stepI].fields" class="form-group">
      <label [for]="field.id">{{ field.label }}</label>
      <input [(ngModel)]="field.value" [type]="field.type ? field.type : 'text'" [id]="field.id" [name]="field.id" class="form-control">
      <small class="form-text text-muted" *ngIf="field.helpText">
        {{ field.helpText }}
      </small>
    </div>
    <div class="form-group">
      <button type="button" (click)="tryChangeStep(stepI - 1)" class="btn btn-secondary" *ngIf="stepI > 0">Previous</button>
      <button type="button" (click)="tryChangeStep(stepI + 1)" class="btn btn-primary" *ngIf="stepI < steps.length - 1">Next</button>
      <button type="button" (click)="tryFinish()" class="btn btn-success" *ngIf="stepI == steps.length - 1">Finish</button>
    </div>
  </div>
</div>
